#!/usr/bin/env bash

source locate_files || exit 1
source message_functions || exit 1

patient=$1 && shift

if [[ -z "${patient}" ]]; then
    error "Parameters missing. Exiting.";
fi

shared_actin_data_uri="$(locate_next_actin_shared_data_uri_gcp ${patient})"

actin_report_pdf="$(locate_actin_report_pdf_gcp ${patient})"

info "Archiving ACTIN report for ${patient} to ${shared_actin_data_uri}"
gsutil cp "${actin_report_pdf}" "${shared_actin_data_uri}/"